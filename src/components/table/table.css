/**
 * Table
 * 
 * Tier 3 â€” Composite Layout Component
 * Provides structural layout for tabular data.
 * Coordinates header rows and data rows.
 * 
 * LAYOUT STRATEGY: CSS Grid
 * - Header cells and body cells align via shared grid column definitions
 * - Rows span full grid width via display: contents on row elements
 * - Column widths controlled via grid-template-columns
 * 
 * Token bindings (allowed - LAYOUT ONLY):
 * - --color-table-surface-background
 * - --color-table-surface-border
 * - --radius-table
 * - spacing tokens
 * 
 * NOT allowed:
 * - color.table.row.*
 * - color.table.cell.*
 * - color.table.header.*
 * - typography tokens for content
 */

.lfx-table {
  display: grid;
  width: 100%;
}

/* ========================================
   Column Layout
   
   SEMANTIC COLUMN WIDTHS (Preferred):
   - Table with lfx-table--semantic uses inline grid-template-columns
   - Columns are sized based on semantic type (primary, categorical, numeric, meta, action)
   - Primary columns: flexible (minmax with flex basis)
   - Other columns: intrinsic (auto, sized to content)
   
   LEGACY EQUAL-WIDTH (Backwards compatibility):
   - Equal-width columns via repeat(N, 1fr)
   - Deprecated in favor of semantic column definitions
   ======================================== */

/* Semantic column layout - grid-template-columns set inline via JS */
.lfx-table--semantic {
  /* Grid template applied via inline style based on column semantic types */
  /* e.g., "minmax(200px, 2fr) auto auto minmax(200px, 2fr) auto auto" */
}

/* Legacy equal-width columns (backwards compatibility only) */
.lfx-table--cols-2 { grid-template-columns: repeat(2, 1fr); }
.lfx-table--cols-3 { grid-template-columns: repeat(3, 1fr); }
.lfx-table--cols-4 { grid-template-columns: repeat(4, 1fr); }
.lfx-table--cols-5 { grid-template-columns: repeat(5, 1fr); }
.lfx-table--cols-6 { grid-template-columns: repeat(6, 1fr); }
.lfx-table--cols-7 { grid-template-columns: repeat(7, 1fr); }
.lfx-table--cols-8 { grid-template-columns: repeat(8, 1fr); }

/* Auto columns fallback (only if no semantic or legacy columns defined) */
.lfx-table:not([class*="--cols-"]):not(.lfx-table--semantic) {
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
}

/* ========================================
   Container Variants
   ======================================== */

.lfx-table--with-border {
  border: 1px solid var(--color-table-surface-border);
  border-radius: var(--radius-table);
  overflow: hidden;
}

.lfx-table--with-background {
  background: var(--color-table-surface-background);
}

/* ========================================
   Dense Variant
   Reduced vertical spacing
   ======================================== */

.lfx-table--dense .lfx-table__header,
.lfx-table--dense .lfx-table__body > * {
  /* Dense mode - children handle their own reduced padding */
}

/* ========================================
   Controls Section (Search + Filters)
   
   Optional controls row above table header.
   Docks directly to table header (no gap).
   SearchInput receives flex: 1 automatically.
   ======================================== */

.lfx-table__controls {
  /* Display as block, NOT part of grid */
  display: flex;
  /* Spacing and layout handled via inline styles in JS */
}

/* ========================================
   Header Section
   ======================================== */

.lfx-table__header {
  display: contents;
}

/* Header row wrapper - uses display: contents to participate in grid */
.lfx-table__header-row {
  display: contents;
}

/* ========================================
   Body Section
   ======================================== */

.lfx-table__body {
  display: contents;
}

/* Body rows use display: contents to participate in grid */
.lfx-table__body > .lfx-table-row,
.lfx-table__body > [class*="table-row"] {
  display: contents;
}

/* ========================================
   Direct children (cells) participate in grid
   ======================================== */

.lfx-table__header-row > *,
.lfx-table__body > * > * {
  /* Cells inherit grid placement */
}

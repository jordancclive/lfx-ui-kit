/**
 * AppShell
 * 
 * Tier 3 â€” Composite Layout Component
 * Defines the high-level page layout for LFX One.
 * Composes major regions: navigation, header, content, aside.
 * 
 * Token bindings (allowed - LAYOUT ONLY):
 * - --color-app-shell-surface-background
 * - --color-app-shell-surface-border
 * - --radius-app-shell
 * - --spacing-app-shell-padding
 * - --spacing-app-shell-region-gap
 * - --spacing-app-shell-nav-width
 * 
 * NOT allowed:
 * - text color tokens
 * - typography tokens
 * - icon tokens
 * - child component tokens
 */

.lfx-app-shell {
  /* Full viewport */
  display: grid;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  
  /* Grid template areas */
  grid-template-areas:
    "nav header header"
    "nav content aside";
  
  /* Grid columns: [nav] [content] [aside] */
  grid-template-columns: auto 1fr auto;
  grid-template-rows: auto 1fr;
  
  /* Gap between regions */
  gap: var(--spacing-app-shell-region-gap);
  
  /* Container padding */
  padding: var(--spacing-app-shell-padding);
}

/* ========================================
   Container Variants
   ======================================== */

.lfx-app-shell--with-background {
  background: var(--color-app-shell-surface-background);
}

.lfx-app-shell--with-border {
  border: 1px solid var(--color-app-shell-surface-border);
  border-radius: var(--radius-app-shell);
}

/* ========================================
   Dense Variant
   Reduced spacing
   ======================================== */

.lfx-app-shell--dense {
  gap: var(--spacing-4);
  padding: var(--spacing-4);
}

/* ========================================
   Region: Navigation
   ======================================== */

.lfx-app-shell__nav {
  grid-area: nav;
  width: var(--spacing-app-shell-nav-width);
  overflow-y: auto;
  overflow-x: hidden;
}

/* When nav is not present, content spans */
.lfx-app-shell:not(:has(.lfx-app-shell__nav)) {
  grid-template-areas:
    "header header header"
    "content content aside";
  grid-template-columns: 1fr auto;
}

/* ========================================
   Region: Header
   ======================================== */

.lfx-app-shell__header {
  grid-area: header;
  overflow: hidden;
}

/* When header is not present, adjust grid */
.lfx-app-shell:not(:has(.lfx-app-shell__header)) {
  grid-template-areas: "nav content aside";
  grid-template-rows: 1fr;
}

/* When nav AND header not present */
.lfx-app-shell:not(:has(.lfx-app-shell__nav)):not(:has(.lfx-app-shell__header)) {
  grid-template-areas: "content aside";
  grid-template-columns: 1fr auto;
  grid-template-rows: 1fr;
}

/* ========================================
   Region: Content (Required)
   ======================================== */

.lfx-app-shell__content {
  grid-area: content;
  overflow-y: auto;
  overflow-x: hidden;
}

/* ========================================
   Region: Aside (Optional)
   ======================================== */

.lfx-app-shell__aside {
  grid-area: aside;
  overflow-y: auto;
  overflow-x: hidden;
}

/* When aside is not present, adjust grid */
.lfx-app-shell:not(:has(.lfx-app-shell__aside)) {
  grid-template-columns: auto 1fr;
}

.lfx-app-shell:not(:has(.lfx-app-shell__nav)):not(:has(.lfx-app-shell__aside)) {
  grid-template-columns: 1fr;
}

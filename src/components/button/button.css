/*
 * LFX One UI Kit - Button Component
 * Uses UI Role tokens only - no palette references, no magic numbers
 * 
 * Typography: Binds to system-level UI role control tokens
 */

.lfx-button {
  /* Layout */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--button-spacing);
  position: relative;
  
  /* Sizing - Default */
  padding: var(--button-vertical-padding) var(--button-horizontal-padding);
  
  /* Typography - binds to system-level UI role control tokens */
  font-family: var(--ui-text-control-font-family);
  font-size: var(--ui-text-control-font-size);
  font-weight: var(--ui-text-control-font-weight);
  line-height: var(--ui-text-control-line-height);
  letter-spacing: var(--letter-spacing);
  text-decoration: none;
  white-space: nowrap;
  
  /* Shape */
  border-radius: var(--button-border-radius);
  border: var(--button-stroke) solid transparent;
  
  /* Interaction */
  cursor: pointer;
  user-select: none;
  transition: background-color 150ms ease, border-color 150ms ease, opacity 150ms ease;
  
  /* Reset */
  outline: none;
  -webkit-appearance: none;
  appearance: none;
}

/* ========================================
   VARIANT: Primary - Default State
   ======================================== */

.lfx-button--primary {
  background-color: var(--interactive-primary-background);
  color: var(--interactive-primary-text);
  border-color: transparent;
}

/* ========================================
   VARIANT: Primary - Hover State
   ======================================== */

.lfx-button--primary:hover:not(.lfx-button--disabled):not(.lfx-button--loading) {
  background-color: var(--interactive-primary-background-hover);
}

/* ========================================
   VARIANT: Primary - Focus State
   ======================================== */

.lfx-button--primary:focus-visible {
  box-shadow: 0 0 0 2px var(--ui-focus-ring-offset), 0 0 0 4px var(--ui-focus-ring-color);
}

/* ========================================
   STATE: Disabled (only when NOT loading)
   Loading takes precedence over disabled
   ======================================== */

.lfx-button--disabled:not(.lfx-button--loading) {
  background-color: var(--interactive-primary-background-disabled);
  color: var(--interactive-primary-text-disabled);
  cursor: not-allowed;
}

/* ========================================
   STATE: Loading
   - Uses primary background (NOT disabled styling)
   - Applies loading opacity, cursor, pointer-events
   - Spinner replaces label
   ======================================== */

.lfx-button--loading {
  cursor: var(--state-loading-cursor);
  pointer-events: var(--state-loading-pointer-events);
  opacity: var(--state-loading-opacity);
  /* Keep primary background, NOT disabled background */
  background-color: var(--interactive-primary-background);
  color: var(--interactive-primary-text);
}

/* ========================================
   SIZE: Large
   ======================================== */

.lfx-button--large {
  padding: var(--button-lg-vertical-padding) var(--button-lg-horizontal-padding);
  gap: var(--button-lg-spacing);
  /* Large size: ~1.14x control size (16px vs 14px) */
  font-size: calc(var(--ui-text-control-font-size) * 1.143);
  line-height: calc(var(--ui-text-control-line-height) * 1.2);
}

/* ========================================
   INNER ELEMENTS
   ======================================== */

.lfx-button__content {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: inherit;
}

.lfx-button__text {
  display: inline-flex;
  align-items: center;
}

/* ========================================
   ICONS
   - Inherit color from interactive.primary.text
   - Size derived from font.button.size (1em = current font size)
   ======================================== */

.lfx-button__icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: inherit;
  width: 1em;
  height: 1em;
  flex-shrink: 0;
}

.lfx-button__icon svg {
  width: 100%;
  height: 100%;
}

/* ========================================
   SPINNER
   - Color from color.spinner.on-interactive
   - Size derived from font.button.size (1em = current font size)
   ======================================== */

.lfx-button__spinner {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: var(--spinner-on-interactive);
  width: 1em;
  height: 1em;
}

.lfx-button__spinner svg {
  width: 100%;
  height: 100%;
  animation: lfx-button-spin 1s linear infinite;
}

@keyframes lfx-button-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

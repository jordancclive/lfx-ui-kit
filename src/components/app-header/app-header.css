/*
 * AppHeader Component
 * Tier 3 - Composite Layout Component
 * 
 * VISUAL INTENT:
 * - Header feels part of workflow, not a decorative banner
 * - Title and action optically align at top edge
 * - Clean handoff to page content below
 * - Dense mode is the production default for app pages
 * 
 * Layout-only component for page headers.
 * Binds to system-level UI role typography tokens for title/description.
 */

.lfx-app-header {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: flex-start; /* Align children to top edge for optical balance */
  gap: var(--spacing-app-header-gap);
  
  /*
   * Vertical Padding (WORKFLOW-OPTIMIZED)
   * 
   * Top: Reduced from 16px to 12px for tighter workflow feel
   * Bottom: Minimal (8px) for clean handoff to page content
   * 
   * RATIONALE:
   * - Header should not feel like a hero banner
   * - Content should flow immediately after title
   * - 12px top provides hierarchy without excess weight
   * - 8px bottom creates breathing room without separation
   */
  padding-top: var(--spacing-12);
  padding-bottom: var(--spacing-8);
  
  /* AppHeader does NOT own surface — sits on page background */
  background-color: transparent;
  
  /* Allow wrapping on narrow viewports */
  flex-wrap: wrap;
}

/*
 * Dense Spacing Variant (PRODUCTION DEFAULT for workflow pages)
 * 
 * Dense mode feels intentional, not cramped.
 * This is the primary mode for app pages with immediate content handoff.
 */
.lfx-app-header--dense {
  /*
   * Dense vertical padding:
   * - Top: 8px (reduced from 12px for tighter handoff)
   * - Bottom: 6px (minimal for immediate workflow connection)
   * 
   * Dense mode is optimized for Table Page, Votes, Surveys, etc.
   * where header hands off directly into DataTable.
   */
  padding-top: var(--spacing-8);
  padding-bottom: var(--spacing-6);
  gap: var(--spacing-app-header-gap-dense);
}

/* Optional bottom divider — uses page-level divider token */
.lfx-app-header--with-divider {
  border-bottom: 1px solid var(--ui-surface-divider);
}

/* ==========================================
   Left Region: Meta + Title Stack
   ========================================== */

.lfx-app-header__left {
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  gap: var(--spacing-app-header-meta-gap);
  flex: 1 1 auto;
  min-width: 0; /* Allow text truncation if needed */
}

.lfx-app-header__title-stack {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-app-header-title-gap);
  flex: 1 1 auto;
  min-width: 0;
}

.lfx-app-header--dense .lfx-app-header__title-stack {
  gap: var(--spacing-app-header-title-gap-dense);
}

/* ==========================================
   Title Typography
   Binds to system-level UI role typography tokens
   ========================================== */

.lfx-app-header__title {
  font-family: var(--ui-text-page-title-font-family);
  font-size: var(--ui-text-page-title-font-size);
  font-weight: var(--ui-text-page-title-font-weight);
  line-height: var(--ui-text-page-title-line-height);
  color: var(--text-primary);
  margin: 0;
}

/* ==========================================
   Description Typography
   Binds to system-level UI role typography tokens
   ========================================== */

.lfx-app-header__description {
  font-family: var(--ui-text-body-secondary-font-family);
  font-size: var(--ui-text-body-secondary-font-size);
  font-weight: var(--ui-text-body-secondary-font-weight);
  line-height: var(--ui-text-body-secondary-line-height);
  color: var(--text-secondary);
  margin: 0;
}

/* ==========================================
   Meta Slot (Breadcrumbs, Pills, etc.)
   ========================================== */

.lfx-app-header__meta {
  display: flex;
  align-items: center;
  flex-shrink: 0;
}

/* ==========================================
   Actions Slot (Buttons, Tabs, Filters)
   
   OPTICAL ALIGNMENT:
   Actions align to the top edge of the title text.
   Buttons have internal padding, so flex-start alignment
   creates visual balance between title and action.
   ========================================== */

.lfx-app-header__actions {
  display: flex;
  flex-direction: row;
  align-items: flex-start; /* Aligns top edge of action elements with title text top */
  gap: var(--spacing-app-header-actions-gap);
  flex-shrink: 0;
  
  /*
   * Subtle negative margin to optically align button with title.
   * Buttons have internal padding (10px vertical in default size),
   * which can make them appear to float higher than the title text.
   * 
   * This pulls the action down by 2px to create optical alignment.
   */
  margin-top: 2px;
}
